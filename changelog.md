# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

<!--
## [x.y.z] - yyyy-mm-dd
### Added
### Changed
### Removed
### Fixed
-->

## [Unreleased]

## [0.9.0] - 2021-12-17
### Added
- Modbus register name defines can contain numbers
- `.gitignore` file added with default python ignores

### Changed
- Set register description to `""` if no description is provided in input
  modbus register header file
- Set semver informations to `0.1.0` in case no semver version could be parsed

## [0.8.0] - 2021-10-04
### Added
- Holding registers and coils can be set via functions or based on input JSON
- Example script to set registers with JSON file

### Changed
- Update README with example usage of register setting script

### Fixed
- Usage example for modbus requests on TCP use correct `port` instead of `unit`
- Catch error on restoring data to human readable content and skip restoring
- Reconstruct possible uint32_t only if length of response allows access to
  required list position

## [0.7.0] - 2021-07-31
### Added
- `log_modbus_to_database` module added
- `get_table_size` functions added to `sqlite_wrapper.py`
- Database wrapper documented
- Unix timestamp in JSON of requested modbus data results
- Modbus connection info added to example register JSON files
- Holding registers can be decoded to human readable content
- Decode response of Phoenix EVSE to human readable content
- Decode response of MyEVSE to human readable content
- Baudrate of RTU connection can be specified for `modbus_wrapper.py`
- Flake8 ignore file

### Changed
- `execute_sql_query` returns result of sql execution
- Connection to backuped database is not automatically closed
- Backup progress can be printed on `backup_db_to_file`

### Fixed
- Usage examples use same CLI parameter style
- Help info text corrected on all modules
- Check existance of output file/folder path of modules scripts
- Treat argparse arguments as int if int is expected
- Human readable restored register content keywords are sorted alphabetically
- No more unused imports and other flake8 warnings

## [0.6.0] - 2021-07-24
### Added
- requirements file with all used python packages of the python module folder
  inside modules
- `set_logger_verbose_level` and `convert_string_to_uint16t` functions added
  to `module_helper.py`
- `parser_valid_file`, `parser_valid_dir`, `check_file` and `check_folder` are
  class methods of `module_helper.py`
- `restore_human_readable_content` function added to `modbus_wrapper.py`
- Example folder with output files of all python modules
- Filename in vcs info file header is filled with filename or `vcsInfo.h` as
  default
- Provided usage description of all python modules inside [modules](modules)

### Changed
- List of lines can now be saved with a linebreak `\n` after each line
- requirements file split into general buildsystem packages and python module
  folder specific packages
- All loggers are created and configured by `module_helper.py` functions
- Moved `generate_modbus_json.py` from [scripts](scripts) to [modules](modules)

### Fixed
- Request registers only if defined in the register input file
- Response of modbus request is only processed if not an error

## [0.5.0] - 2021-06-15
### Added
- `modbus_wrapper` module added
- JSON content can be sorted before saving in `save_json_file` function

### Fixed
- Added missing docstring of `get_random_string`

## [0.4.0] - 2021-06-14
### Added
- `get_unix_timestamp` and `get_random_string` functions added to
  `module_helper.py`

### Fixed
- Use correct author mail address for python modules and scripts
- No flake8 warnings for all python modules and scripts

## [0.3.0] - 2021-06-09
### Changed
- `generate_modbus_json.py` uses given output file name or defines the file
  name as `registers.json` if a path is given as output argument

## [0.2.0] - 2021-06-04
### Added
- Commit SHA is added as comment before the commit SHA as numbers to vcs info
  file
- VCS informations can be generated by `generate_vcs.py`
- All tags, all tags sorted by date and described commit added to git dict
- Described commit can be returned by function of git wrapper module
- JSON file of modbus registers header file can be generated
- Modbus data from remote RTU or TCP devices can be collected based on modbus
  register JSON file content

## [0.1.0] - 2021-05-17
### Added
- This changelog file
- Compilation info generator module and script
- Structure info generator module and script
- requirements file with all used python packages

<!-- Links -->
[Unreleased]: https://github.com/brainelectronics/python-modules/compare/0.9.0...develop

[0.9.0]: https://github.com/brainelectronics/python-modules/compare/0.8.0...0.9.0
[0.8.0]: https://github.com/brainelectronics/python-modules/compare/0.7.0...0.8.0
[0.7.0]: https://github.com/brainelectronics/python-modules/compare/0.6.0...0.7.0
[0.6.0]: https://github.com/brainelectronics/python-modules/compare/0.5.0...0.6.0
[0.5.0]: https://github.com/brainelectronics/python-modules/compare/0.4.0...0.5.0
[0.4.0]: https://github.com/brainelectronics/python-modules/compare/0.3.0...0.4.0
[0.3.0]: https://github.com/brainelectronics/python-modules/compare/0.2.0...0.3.0
[0.2.0]: https://github.com/brainelectronics/python-modules/compare/0.1.0...0.2.0
[0.1.0]: https://github.com/brainelectronics/python-modules/tree/0.1.0
